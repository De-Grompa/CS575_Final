{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/router\";\nfunction FetchMovieDataComponent_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"em\");\n    i0.ɵɵtext(2, \"Loading...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction FetchMovieDataComponent_table_5_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"a\", 9);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const movie_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"href\", movie_r3.homepage, i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate(\"title\", movie_r3.overview);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(movie_r3.originalTitle);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(movie_r3.releaseDate);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(movie_r3.genres);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(movie_r3.tagline);\n  }\n}\nfunction FetchMovieDataComponent_table_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"table\", 3)(1, \"button\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 4)(4, \"input\", 5);\n    i0.ɵɵlistener(\"ngModelChange\", function FetchMovieDataComponent_table_5_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.titleSearch = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 6);\n    i0.ɵɵelement(6, \"i\", 7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"thead\")(8, \"tr\")(9, \"th\");\n    i0.ɵɵtext(10, \"Movie Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Release Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Genre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16, \"Tagline\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"tbody\");\n    i0.ɵɵtemplate(18, FetchMovieDataComponent_table_5_tr_18_Template, 10, 6, \"tr\", 8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" (click)=\\\"cycleSorting()\\\" [title]=\\\"currentSorting\\\"> \", ctx_r1.currentSorting, \" Movies \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.titleSearch);\n    i0.ɵɵadvance(14);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.movies);\n  }\n}\nexport class FetchMovieDataComponent {\n  constructor(http, baseUrl) {\n    this.movies = [];\n    this.titleSearch = \"\";\n    http.get(baseUrl + 'movies').subscribe(result => {\n      this.movies = result;\n    }, error => console.error(error));\n  }\n  // Start search by title\n  get filteredMoviesByTitle() {\n    if (!this.movies) {\n      return [];\n    }\n    return this.movies.filter(movie => movie.originalTitle && movie.originalTitle.toLowerCase().includes(this.titleSearch.toLowerCase()));\n  }\n}\nFetchMovieDataComponent.ɵfac = function FetchMovieDataComponent_Factory(t) {\n  return new (t || FetchMovieDataComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject('BASE_URL'));\n};\nFetchMovieDataComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FetchMovieDataComponent,\n  selectors: [[\"app-fetch-movie-data\"]],\n  decls: 6,\n  vars: 2,\n  consts: [[\"id\", \"tableLabel\"], [4, \"ngIf\"], [\"class\", \"table table-striped\", \"aria-labelledby\", \"tableLabel\", 4, \"ngIf\"], [\"aria-labelledby\", \"tableLabel\", 1, \"table\", \"table-striped\"], [\"action\", \"/action_page.php\", 1, \"titleSearch\", 2, \"margin\", \"auto\", \"max-width\", \"300px\"], [\"type\", \"text\", \"placeholder\", \"Title Search..\", \"name\", \"titleSearch\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\"], [1, \"fa\", \"fa-search\"], [4, \"ngFor\", \"ngForOf\"], [\"routerLink\", \"/movie-page\", 3, \"href\", \"title\"]],\n  template: function FetchMovieDataComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\", 0);\n      i0.ɵɵtext(1, \"Movie Data\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"p\");\n      i0.ɵɵtext(3, \"This component fetches movie data from the server.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(4, FetchMovieDataComponent_p_4_Template, 3, 0, \"p\", 1);\n      i0.ɵɵtemplate(5, FetchMovieDataComponent_table_5_Template, 19, 3, \"table\", 2);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", !(ctx.movies == null ? null : ctx.movies.length));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.movies.length);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm, i4.RouterLink],\n  encapsulation: 2\n});","map":{"version":3,"mappings":";;;;;;;IAIAA,yBAA2B;IAAIA,0BAAU;IAAAA,iBAAK;;;;;IA6BtCA,0BAAiC;IAKxBA,YAAyB;IAAAA,iBAC3B;IACHA,0BAAI;IAAAA,YAAuB;IAAAA,iBAAK;IAChCA,0BAAI;IAAAA,YAAkB;IAAAA,iBAAK;IAC3BA,0BAAI;IAAAA,YAAmB;IAAAA,iBAAK;;;;IAPxBA,eAA2B;IAA3BA,qEAA2B;IAE3BA,oDAA4B;IAC3BA,eAAyB;IAAzBA,4CAAyB;IAE1BA,eAAuB;IAAvBA,0CAAuB;IACvBA,eAAkB;IAAlBA,qCAAkB;IAClBA,eAAmB;IAAnBA,sCAAmB;;;;;;IApCnCA,gCAAsF;IACzEA,YAEP;IAAAA,iBAAS;IACTA,+BAIH;IAKGA;MAAAA;MAAA;MAAA;IAAA,EAAyB;IAJ3BA,iBAKE;IACFA,iCAAsB;IAAAA,uBAA4B;IAAAA,iBAAS;IAG3DA,6BAAO;IAEKA,4BAAW;IAAAA,iBAAK;IACpBA,2BAAI;IAAAA,6BAAY;IAAAA,iBAAK;IACrBA,2BAAI;IAAAA,sBAAK;IAAAA,iBAAK;IACdA,2BAAI;IAAAA,wBAAO;IAAAA,iBAAK;IAGxBA,8BAAO;IACHA,iFAUK;IAXTA,iBAAO;;;;IAzBEA,eAEP;IAFOA,oHAEP;IAUAA,eAAyB;IAAzBA,4CAAyB;IAcDA,gBAAS;IAATA,uCAAS;;;AC1BvC,OAAM,MAAOC,uBAAuB;EAGlCC,YAAYC,IAAgB,EAAsBC,OAAe;IAF1D,WAAM,GAAY,EAAE;IAO3B,gBAAW,GAAW,EAAE;IAJtBD,IAAI,CAACE,GAAG,CAAUD,OAAO,GAAG,QAAQ,CAAC,CAACE,SAAS,CAACC,MAAM,IAAG;MACvD,IAAI,CAACC,MAAM,GAAGD,MAAM;IACtB,CAAC,EAAEE,KAAK,IAAIC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CAAC;EACnC;EAGA;EACA,IAAIE,qBAAqB;IACvB,IAAI,CAAC,IAAI,CAACH,MAAM,EAAE;MAChB,OAAO,EAAE;;IAEX,OAAO,IAAI,CAACA,MAAM,CAACI,MAAM,CAACC,KAAK,IAC7BA,KAAK,CAACC,aAAa,IACnBD,KAAK,CAACC,aAAa,CAACC,WAAW,EAAE,CAACC,QAAQ,CAAC,IAAI,CAACC,WAAW,CAACF,WAAW,EAAE,CAAC,CAC3E;EACH;;AAnBWd,uBAAuB;mBAAvBA,uBAAuB,4DAGI,UAAU;AAAA;AAHrCA,uBAAuB;QAAvBA,uBAAuB;EAAAiB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDPpCtB,6BAAoB;MAAAA,0BAAU;MAAAA,iBAAK;MAEnCA,yBAAG;MAAAA,kEAAkD;MAAAA,iBAAI;MAEzDA,oEAAkD;MAElDA,6EAsCQ;;;MAxCJA,eAAqB;MAArBA,uEAAqB;MAEwCA,eAAmB;MAAnBA,wCAAmB","names":["i0","FetchMovieDataComponent","constructor","http","baseUrl","get","subscribe","result","movies","error","console","filteredMoviesByTitle","filter","movie","originalTitle","toLowerCase","includes","titleSearch","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\JJwal\\CS575_Final\\ClientApp\\src\\app\\fetch-movie-data\\fetch-movie-data.component.html","C:\\Users\\JJwal\\CS575_Final\\ClientApp\\src\\app\\fetch-movie-data\\fetch-movie-data.component.ts"],"sourcesContent":["<h1 id=\"tableLabel\">Movie Data</h1>\n\n<p>This component fetches movie data from the server.</p>\n\n<p *ngIf=\"!movies?.length\"><em>Loading...</em></p>\n\n<table class=\"table table-striped\" aria-labelledby=\"tableLabel\" *ngIf=\"movies.length\">\n    <button> (click)=\"cycleSorting()\" [title]=\"currentSorting\">\n        {{ currentSorting }} Movies\n      </button>\n      <form\n    class=\"titleSearch\"\n    action=\"/action_page.php\"\n    style=\"margin: auto; max-width: 300px\"\n  >\n    <input\n      type=\"text\"\n      placeholder=\"Title Search..\"\n      name=\"titleSearch\"\n      [(ngModel)]=\"titleSearch\"\n    />\n    <button type=\"submit\"><i class=\"fa fa-search\"></i></button>\n  </form>\n  \n    <thead>\n        <tr>\n            <th>Movie Title</th>\n            <th>Release Date</th>\n            <th>Genre</th>\n            <th>Tagline</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr *ngFor=\"let movie of movies\">\n            <td><a\n                href=\"{{ movie.homepage }}\"\n                routerLink=\"/movie-page\"\n                title=\"{{ movie.overview }}\"\n                >{{ movie.originalTitle }}</a\n              ></td>\n            <td>{{ movie.releaseDate }}</td>\n            <td>{{ movie.genres }}</td>\n            <td>{{ movie.tagline }}</td>\n        </tr>\n</table>","import { Component, Inject } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-fetch-movie-data',\n  templateUrl: './fetch-movie-data.component.html',\n})\nexport class FetchMovieDataComponent {\n  public movies: Movie[] = [];\n\n  constructor(http: HttpClient, @Inject('BASE_URL') baseUrl: string) {\n    http.get<Movie[]>(baseUrl + 'movies').subscribe(result => {\n      this.movies = result;\n    }, error => console.error(error));\n  }\n  titleSearch: string = \"\";\n\n  // Start search by title\n  get filteredMoviesByTitle(): Movie[] {\n    if (!this.movies) {\n      return [];\n    }\n    return this.movies.filter(movie => \n      movie.originalTitle && \n      movie.originalTitle.toLowerCase().includes(this.titleSearch.toLowerCase())\n    );\n  }\n}\n\n\n// Set movie interface\ninterface Movie {\n  id: number;\n  imdbId: string;\n  popularity: number;\n  budget: number;\n  revenue: number;\n  originalTitle: string;\n  cast: string[];\n  homepage: string;\n  director: string;\n  tagline: string;\n  keywords: string[];\n  overview: string;\n  runtime: number;\n  genres: string[];\n  productionCompanies: string[];\n  releaseDate: string;\n  voteCount: number;\n  voteAverage: number;\n  releaseYear: number;\n  budgetAdjusted: number;\n  revenueAdjusted: number;\n}\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}